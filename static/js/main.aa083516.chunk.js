(this.webpackJsonpcatnip=this.webpackJsonpcatnip||[]).push([[0],{30:function(t,e,c){},32:function(t,e,c){},39:function(t,e,c){},40:function(t,e,c){},41:function(t,e,c){},42:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),r=c(17),s=c.n(r),i=(c(30),c(9)),o=c(3),l=c(4),j=c.n(l),u=c(24),d=c(10),b=c(11),h=(c(32),c(1));function p(){var t=Object(n.useState)([]),e=Object(b.a)(t,2),c=e[0],a=e[1],r=Object(n.useState)(!0),s=Object(b.a)(r,2),o=s[0],l=s[1],p=Object(n.useState)(!1),O=Object(b.a)(p,2),x=O[0],f=O[1];return Object(n.useEffect)((function(){fetch("https://api.thecatapi.com/v1/categories").then((function(t){return t.json()})).then(function(){var t=Object(d.a)(j.a.mark((function t(e){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(t){return fetch("https://api.thecatapi.com/v1/images/search?limit=1&category_ids=".concat(t.id)).then((function(t){return t.json()})).then(function(){var e=Object(d.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(u.a)(Object(u.a)({},t),{},{image:c[0]}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})));case 2:return c=t.sent,t.next=5,a(c);case 5:return t.next=7,l(!1);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(d.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,f(!0);case 3:return t.next=5,l(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),o?Object(h.jsx)("div",{className:"loading",children:"Loading..."}):x?Object(h.jsx)("div",{className:"error",children:"Error while loading categories. Please try again later!"}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"page-home",children:[Object(h.jsx)("p",{children:"Select a category"}),Object(h.jsx)("div",{className:"category-list",children:c.map((function(t){var e;return Object(h.jsx)(i.b,{to:"/category/".concat(t.id),style:{backgroundImage:'url("'.concat(null===(e=t.image)||void 0===e?void 0:e.url,'")')},children:Object(h.jsx)("span",{children:t.name})},String(t.id))}))})]})})}var O=c(12),x="CATS_LOAD",f="CATS_CLEAR",g="CAT_PET",m="CAT_NO_PET",v="CAT_SKIP",y=function(t){return t.catSwipe};c(39);function N(){var t=Object(O.b)(),e=Object(o.f)(),c=Object(o.g)().categoryId,a=Object(n.useState)(!0),r=Object(b.a)(a,2),s=r[0],i=r[1],l=Object(n.useState)(!1),u=Object(b.a)(l,2),p=u[0],N=u[1],w=Object(O.c)(y),S=Object(n.useState)(0),k=Object(b.a)(S,2),_=k[0],E=k[1],C=Object(n.useState)(),I=Object(b.a)(C,2),P=I[0],T=I[1];Object(n.useEffect)((function(){t({type:f}),fetch("https://api.thecatapi.com/v1/categories").then((function(t){return t.json()})).then(function(){var t=Object(d.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e.find((function(t){return String(t.id)===String(c)})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(d.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(!0);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),fetch("https://api.thecatapi.com/v1/images/search?limit=10&category_ids=".concat(c)).then((function(t){return t.json()})).then(function(){var e=Object(d.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:x,payload:c}),e.next=3,i(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(function(){var t=Object(d.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,N(!0);case 3:return t.next=5,i(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[c]);var D=function(){_===w.length-1?e.push("/stats/".concat(c)):E(_+1)};return c?s?Object(h.jsx)("div",{className:"loading",children:"Loading..."}):p?Object(h.jsx)("div",{className:"error",children:"Error while loading cats. Please try again later!"}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"page-category",children:[P?Object(h.jsxs)("div",{className:"category-title",children:["> ",P.name]}):null,Object(h.jsx)("p",{children:"Would you pet it? "}),Object(h.jsxs)("div",{className:"cat",children:[Object(h.jsx)("div",{className:"cat-image",style:{backgroundImage:'url("'.concat(w[_].cat.url,'")')}}),Object(h.jsxs)("div",{className:"cat-process",children:[_+1," of ",w.length]}),Object(h.jsxs)("div",{className:"cat-action",children:[Object(h.jsxs)("button",{onClick:function(){var e;t((e=w[_].cat.id,{type:m,payload:{id:e}})),D()},className:"cat-action-pet-no",children:[Object(h.jsx)("img",{src:"../public/action/DontPet.svg",alt:""}),Object(h.jsx)("span",{children:"Don't pet it!"})]}),Object(h.jsxs)("button",{onClick:function(){var e;t((e=w[_].cat.id,{type:v,payload:{id:e}})),D()},className:"cat-action-skip",children:[Object(h.jsx)("img",{src:"../public/action/Skip.svg",alt:""}),Object(h.jsx)("span",{children:"Skip it!"})]}),Object(h.jsxs)("button",{onClick:function(){var e;t((e=w[_].cat.id,{type:g,payload:{id:e}})),D()},className:"cat-action-pet",children:[Object(h.jsx)("img",{src:"../public/action/Pet.svg",alt:""}),Object(h.jsx)("span",{children:"Pet it!"})]})]})]})]})}):Object(h.jsx)("div",{className:"error",children:"Not Found"})}c(40);function w(){var t=Object(o.g)().categoryId,e=Object(O.c)(y),c=e.filter((function(t){return!0===t.status})).length,n=e.filter((function(t){return!1===t.status})).length,a=e.filter((function(t){return null===t.status})).length;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"page-stats",children:[Object(h.jsx)("div",{className:"stats-title",children:"> Stats"}),Object(h.jsxs)("p",{children:["Cats seen: ",e.length]}),Object(h.jsxs)("div",{className:"stats",children:[Object(h.jsxs)("div",{className:"stat-no-pet",children:[Object(h.jsx)("div",{className:"stat-image",children:Object(h.jsx)("img",{src:"../public/action/DontPet.svg",alt:""})}),Object(h.jsxs)("div",{className:"stat-detail",children:[Object(h.jsx)("strong",{children:n}),Object(h.jsx)("span",{children:"Cats you didn't pet"})]})]}),Object(h.jsxs)("div",{className:"stat-skip",children:[Object(h.jsx)("div",{className:"stat-image",children:Object(h.jsx)("img",{src:"../public/action/Skip.svg",alt:""})}),Object(h.jsxs)("div",{className:"stat-detail",children:[Object(h.jsx)("strong",{children:a}),Object(h.jsx)("span",{children:"Cats you skipped"})]})]}),Object(h.jsxs)("div",{className:"stat-pet",children:[Object(h.jsx)("div",{className:"stat-image",children:Object(h.jsx)("img",{src:"../public/action/Pet.svg",alt:""})}),Object(h.jsxs)("div",{className:"stat-detail",children:[Object(h.jsx)("strong",{children:c}),Object(h.jsx)("span",{children:"Cats you pet"})]})]})]}),Object(h.jsxs)("div",{className:"stats-action",children:[Object(h.jsx)(i.b,{to:"/category/".concat(t),children:"Restart In Same Category"}),Object(h.jsx)(i.b,{to:"/",children:"Select New Category"})]})]})})}c(41);var S=function(){return Object(h.jsxs)(i.a,{basename:"/cat-tinder",children:[Object(h.jsx)("header",{children:Object(h.jsx)(i.b,{to:"/",children:Object(h.jsx)("img",{src:"public/logo/Logo.svg",alt:"Pet"})})}),Object(h.jsx)("main",{children:Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{path:"/stats/:categoryId(\\d+)",children:Object(h.jsx)(w,{})}),Object(h.jsx)(o.a,{path:"/category/:categoryId(\\d+)",children:Object(h.jsx)(N,{})}),Object(h.jsx)(o.a,{path:"/",children:Object(h.jsx)(p,{})})]})})]})},k=c(20),_=c(16),E=[];var C=Object(k.a)({catSwipe:function(){var t,e,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return[];case x:return Object(_.a)(n.payload.map((function(t){return{cat:t,status:void 0}})));case g:return e=(t=Object(_.a)(c)).findIndex((function(t){return t.cat.id===n.payload.id})),t[e].status=!0,t;case v:return e=(t=Object(_.a)(c)).findIndex((function(t){return t.cat.id===n.payload.id})),t[e].status=null,t;case m:return e=(t=Object(_.a)(c)).findIndex((function(t){return t.cat.id===n.payload.id})),t[e].status=!1,t;default:return c}}}),I=Object(k.b)(C,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(O.a,{store:I,children:Object(h.jsx)(S,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.aa083516.chunk.js.map